(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),l=a.n(c),s=(a(62),a(9)),o=a(3),u=(a(63),function(e){var t=e.type,a=e.children,n="alert-light";return"danger"===t&&(n="alert-danger"),"success"===t&&(n="alert-success"),"info"===t&&(n="alert-info"),"light"===t&&(n="alert-light"),r.a.createElement("div",{className:"alert ".concat(n)},a)}),i=a(54),m=a.n(i),d=(a(66),function(e){var t=e.closeHandler,a=e.showAlert,c=Object(n.useState)(""),l=Object(o.a)(c,2),u=l[0],i=l[1];m.a.config();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"password-alert"},r.a.createElement("p",null,"Please, Enter the Security Code?"),r.a.createElement("form",{onSubmit:function(){u.trim()===Object({NODE_ENV:"production",PUBLIC_URL:"/Class-Planner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_Password?(t(),a("success","The security code has been verified successfully."),setTimeout((function(){window.location.replace("/".concat(s[0].id,"/cities"))}),500)):(t(),a("danger","Oops! The Security Code is incorrect."))}},r.a.createElement("div",null,r.a.createElement("input",{id:"text",type:"text",name:"security-code",className:"form-control password-input-confirm",onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"password-confirm"},"Confirm")))))}),f=a(8),p=(a(67),a(31),function(e){var t=e.user,a=e.city,n=e.component;return r.a.createElement("nav",{role:"navigation"},r.a.createElement("div",{id:"burgerToggle"},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("ul",{id:"menu"},"home"===n?r.a.createElement(r.a.Fragment,null):"cities"===n||"newcourse"===n&&t===s[0].id&&!a?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"cities"===n?"menu-item-selected":"",to:"/".concat(t,"/cities/")},r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-map-marked-alt"}),r.a.createElement("p",null,"Cities"))),t===s[0].id?r.a.createElement(f.b,{className:"newcourse"===n?" menu-item-selected":"",to:"/".concat(t,"/newcourse/")},r.a.createElement("li",null,r.a.createElement("i",{className:"far fa-calendar-alt"}),r.a.createElement("p",null,"New Course"))):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"cities"===n?"menu-item-selected":"",to:"/".concat(t,"/cities")},r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-map-marked-alt"}),r.a.createElement("p",null,"Cities"))),r.a.createElement(f.b,{className:"coursecalendar"===n?"menu-item-selected":"",to:"/".concat(t,"/").concat(a,"/coursecalendar/")},r.a.createElement("li",null,r.a.createElement("i",{className:"far fa-calendar-alt"}),r.a.createElement("p",null,"Course Calendar"))),r.a.createElement(f.b,{className:"upcomingclass"===n?"menu-item-selected":"",to:"/".concat(t,"/").concat(a,"/upcomingclass/")},r.a.createElement("li",null,r.a.createElement("i",{className:"far fa-calendar-check"}),r.a.createElement("p",null,"Upcoming Class"))),t===s[0].id?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"courses"===n?"menu-item-selected":"",to:"/".concat(t,"/").concat(a,"/courses/")},r.a.createElement("li",null,r.a.createElement("i",{className:"far fa-list-alt"}),r.a.createElement("p",null,"Courses"))),r.a.createElement(f.b,{className:"newcourse"===n?"menu-item-selectedd":"",to:"/".concat(t,"/").concat(a,"/newcourse/")},r.a.createElement("li",null,r.a.createElement("i",{className:"far fa-calendar-plus"}),r.a.createElement("p",null,"New Course"))),r.a.createElement(f.b,{className:"newclass"===n?"menu-item-selected":"",to:"/".concat(t,"/").concat(a,"/newclass/")},r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-chalkboard-teacher"}),r.a.createElement("p",null,"New Class")))):null))))}),E=a(56),b=a.n(E),h=function(e){var t=e.user,a=e.city,n=e.component;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top-container"},r.a.createElement("div",{className:"header-logo-container"},r.a.createElement(f.b,{className:"home-link header-logo",to:"/"},r.a.createElement("img",{src:b.a,alt:"Code Your Future Logo",className:"header-logo"}))),r.a.createElement("div",{className:"header-burger-container"},"home"!==n&&r.a.createElement(p,{user:t,city:a,component:n}))),r.a.createElement("div",{className:"header-down-container"},r.a.createElement("nav",{className:"header-nav-container animate__animated animate__fadeIn"},"home"===n?r.a.createElement("div",{className:"home-app-title"},r.a.createElement("img",{src:"../files/calendar.svg",alt:"Calendar"}),r.a.createElement("p",null,"Class Planner")):"cities"===n||"newcourse"===n&&t===s[0].id&&!a?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"cities"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/cities/")},r.a.createElement("i",{className:"fas fa-map-marked-alt"}),r.a.createElement("p",null,"Cities")),t===s[0].id?r.a.createElement(f.b,{className:"newcourse"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/newcourse/")},r.a.createElement("i",{className:"far fa-calendar-alt"}),r.a.createElement("p",null,"New Course")):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"cities"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/cities")},r.a.createElement("i",{className:"fas fa-map-marked-alt"}),r.a.createElement("p",null,"Cities")),r.a.createElement(f.b,{className:"coursecalendar"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/").concat(a,"/coursecalendar/")},r.a.createElement("i",{className:"far fa-calendar-alt"}),r.a.createElement("p",null,"Course Calendar")),r.a.createElement(f.b,{className:"upcomingclass"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/").concat(a,"/upcomingclass/")},r.a.createElement("i",{className:"far fa-calendar-check"}),r.a.createElement("p",null,"Upcoming Class")),t===s[0].id?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{className:"courses"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/").concat(a,"/courses/")},r.a.createElement("i",{className:"far fa-list-alt"}),r.a.createElement("p",null,"Courses")),r.a.createElement(f.b,{className:"newcourse"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/").concat(a,"/newcourse/")},r.a.createElement("i",{className:"far fa-calendar-plus"}),r.a.createElement("p",null,"New Course")),r.a.createElement(f.b,{className:"newclass"===n?"header-nav header-selected":"header-nav",to:"/".concat(t,"/").concat(a,"/newclass/")},r.a.createElement("i",{className:"fas fa-chalkboard-teacher"}),r.a.createElement("p",null,"New Class"))):null))))},v=(a(73),function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 Code Your Future, All rights reserved | Registered charity 1174929"))}),g=(a(74),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),m=i[0],p=i[1],E=Object(n.useState)(""),b=Object(o.a)(E,2),g=b[0],N=b[1],y=Object(n.useState)("message"),k=Object(o.a)(y,2),w=k[0],C=k[1];return r.a.createElement("div",{className:"home_container"},r.a.createElement(h,{component:"home"}),r.a.createElement("div",{className:"home-main"},a&&r.a.createElement(d,{closeHandler:function(){c(!1)},showAlert:function(e,t){p(!0),N(e),C(t)}}),m&&r.a.createElement(u,{type:g}," ",w," "),r.a.createElement("div",null,r.a.createElement("img",{className:"home-image",src:"../files/Home.png",alt:"CYF"})),r.a.createElement("div",{className:"home-main-buttons-container"},r.a.createElement("button",{className:"home-button",onClick:function(e){p(!1),c(!0)}},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"}),"Admin")),r.a.createElement(f.b,{className:"home-button",to:"/".concat(s[1].id,"/cities")},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"}),"Volunteer")),r.a.createElement(f.b,{className:"home-button",to:"/".concat(s[2].id,"/cities")},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"}),"Student")))),r.a.createElement(v,null))}),N=a(4),y=a.n(N),k=a(7),w=(a(76),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return setTimeout((function(){c(!0)}),1500),r.a.createElement("div",{className:"loaading-container"},a?r.a.createElement("p",{className:"nothing"},"Nothing to show!"):r.a.createElement("p",{className:"loading"},"Loading . . ."))}),C=["January","February","March","April","May","June","July","August","September","October","November","December"],O=a(17),D=a(22),x=a.n(D),j=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(o.a)(l,2),u=s[0],i=s[1],m=Object(n.useRef)([]),d=function(){var e={};return m.current.forEach((function(t){var a="";if(t.element)switch(t.element.type){case"text":t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"date":""===t.element.value||x.a.isDate(t.element.value)||(a=t.element.name,e[a]="".concat(t.element.name," is not Valid!")),t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"time":""===t.element.value||new RegExp(/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]?$/g).test(t.element.value)||(a=t.element.name,e[a]="".concat(t.element.name," is not Valid!")),t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"number":""===t.element.value||new RegExp(/^[0-9]*$/g).test(t.element.value)||(a=t.element.name,e[a]="".concat(t.element.name," is not Valid!")),t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"email":""===t.element.value||x.a.isEmail(t.element.value)||(a=t.element.name,e[a]="".concat(t.element.name," is not Valid!")),t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"select-one":t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"));break;case"url":""===t.element.value||x.a.isURL(t.element.value)||(a=t.element.name,e[a]="".concat(t.element.name," is not Valid!")),t.required&&""===t.element.value&&(a=t.element.name,e[a]="".concat(t.element.name," is required!"))}})),e};return{entryData:m,onChange:function(e){if(i(!0),""!==e.target.value&&r&&r.hasOwnProperty(e.target.name.toString())){var t=JSON.parse(JSON.stringify(r));delete t[e.target.name.toString()],t!==r&&c("{}"!==JSON.stringify(t)?t:null)}},onSubmit:function(t){if(t.preventDefault(),u)if(i(!1),"{}"!==JSON.stringify(d()))c(d());else{var a={},n="";m.current.forEach((function(e){e.element&&(n=e.element.name,a[n]="radio"===e.element.type?!!e.element.checked:"".concat(e.element.value))})),e(a),c(null)}},setSubmit_F:function(e){i(e)},error:r}},S=a(5),_=a.n(S),T=(a(169),[{id:1,roleName:"Coordinator"},{id:2,roleName:"Lead Teacher"},{id:3,roleName:"Assistant Lead Teacher"},{id:4,roleName:"Teaching Assistant"},{id:5,roleName:"Personal Development Rep"},{id:6,roleName:"Zoom Master"}]),Y=[{id:1,roleName:"Organizer"},{id:2,roleName:"Presenter"},{id:3,roleName:"Energizer"},{id:4,roleName:"Zoom Master"},{id:5,roleName:"Education Presenter"},{id:6,roleName:"Personal Development Presenter"},{id:7,roleName:"Ambassador Presenter"},{id:8,roleName:"Graduate Story"}],R=[{id:1,roleName:"Zoom Master/ Lesson Lead (Experienced Volunteer)"},{id:2,roleName:"Motivational Speaker/ Icebreaker (Student/Grad)"},{id:3,roleName:"Technical TA - INtro to CYF Presenter (Experienced Volunteer)"},{id:4,roleName:"Technical TA - Sololearn (1)"},{id:5,roleName:"Technical TA - Sololearn (2)"},{id:6,roleName:"Technical TA - FreeCodeCamp Tutorial (1)"},{id:7,roleName:"Technical TA - FreeCodeCamp Tutorial (2)"},{id:8,roleName:"Technical TA - FreeCodeCamp Landing Page (1)"},{id:9,roleName:"Technical TA - FreeCodeCamp Landing Page (2)"}],L=a(6),M=function(e){var t=e.Class,a=e.user,c=e.city,l=e.WeekNumber,s=Object(L.e)(),i=Object(n.useState)(null),m=Object(o.a)(i,2),d=m[0],f=m[1],p=j(function(){var e=Object(k.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.classId=t._id,n.email=n.email.toLowerCase(),e.next=4,_.a.post("/api/v1/bookings",Object(O.a)({},n)).then((function(e){e.data.success?(f({type:"success",message:"New class booking is created successfully !"}),setTimeout((function(){s.push("/".concat(a,"/").concat(c,"/attendingvolunteers/").concat(t._id,"/").concat(l))}),1e3)):(g(!0),f({type:"danger",message:"New class booking is not created !"}))})).catch((function(e){e.response.data.success||(g(!0),f({type:"danger",message:e.response.data.message}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=p.entryData,b=p.error,h=p.onChange,v=p.onSubmit,g=p.setSubmit_F;return r.a.createElement("div",{className:"newbooking-container"},r.a.createElement("form",{className:"newbooking-form",noValidate:!0,onSubmit:v},d&&""!==d?r.a.createElement(u,{type:d.type,children:d.message}):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"fullName"},"Full Name:"),r.a.createElement("input",{type:"text",name:"fullName",onChange:function(e){return h(e)},className:b&&b.fullName?"form-control error":"form-control",placeholder:"Full Name . . .",ref:function(e){return E.current[0]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},b&&b.fullName&&r.a.createElement("p",null," * ",b.fullName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",name:"email",onChange:function(e){return h(e)},className:b&&b.email?"form-control error":"form-control",placeholder:"Email . . .",ref:function(e){return E.current[1]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},b&&b.email&&r.a.createElement("p",null," * ",b.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"role"},"Role:"),r.a.createElement("select",{type:"text",name:"roleName",onChange:function(e){return h(e)},className:b&&b.roleName?"form-control error":"form-control",placeholder:"Role Name . . .",ref:function(e){return E.current[2]={element:e,required:!0}}},c.includes("Remote Volunteers Event")&&Y.map((function(e){return r.a.createElement("option",{key:e.id,value:e.roleName},e.roleName)}))||c.includes("Remote Intro to Coding")&&R.map((function(e){return r.a.createElement("option",{key:e.id,value:e.roleName},e.roleName)}))||!c.includes("Remote Volunteers Event")&&!c.includes("Remote Intro to Coding")&&T.map((function(e){return r.a.createElement("option",{key:e.id,value:e.roleName},e.roleName)})))),r.a.createElement("div",{className:"err-msg"},b&&b.roleName&&r.a.createElement("p",null," * ",b.roleName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit"}))))},F=(a(170),function(e){var t=e.user,a=e.city,c=e.id,l=e.fullName,u=e.WeekNumber,i=e.email,m=e._id,d=e.closeHandler,f=e.showAlert,p=Object(n.useState)(""),E=Object(o.a)(p,2),b=E[0],h=E[1];function v(){_.a.delete("/api/v1/bookings/".concat(m)).then((function(e){!0===e.data.success&&(d(),f("success","The booking has been deleted successfully."),setTimeout((function(){window.location.replace("/".concat(t,"/").concat(a,"/attendingvolunteers/").concat(c,"/").concat(u,"/"))}),1e3))})).catch((function(e){d(),!1===e.response.data.success&&f("danger",e.response.data.error)}))}return r.a.createElement(r.a.Fragment,null,t===s[0].id&&r.a.createElement("div",{className:"cancelbooking-alert"},r.a.createElement("p",null,"Are you sure to cancel the corresponding booking for ",l," ?"),r.a.createElement("div",null,r.a.createElement("button",{className:"cancelbooking-no",onClick:function(){return d(!0)}},"NO"),r.a.createElement("button",{className:"cancelbooking-yes",onClick:function(){return v()}},"YES"))),t===s[1].id&&r.a.createElement("div",{className:"cancelbooking-alert"},r.a.createElement("p",null,"Please confirm ",l," email address to cancel the corresponding booking for the current class."),r.a.createElement("form",{onSubmit:function(){i===b&&""!==b?v():(d(),f("danger","Oh sorry!  The email address is incorrect ."))}},r.a.createElement("div",null,r.a.createElement("input",{id:"email",type:"email",name:"email",className:"form-control volunteeremail-confirm",onChange:function(e){return h(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"cancelbooking-confirm"},"Confirm")))))}),A=(a(171),function(e){var t=e.user,a=e.city,c=e.id,l=e.WeekNumber,i=e.bookings,m=Object(n.useState)(!1),d=Object(o.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(!1),b=Object(o.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(""),N=Object(o.a)(g,2),y=N[0],k=N[1],C=Object(n.useState)("message"),O=Object(o.a)(C,2),D=O[0],x=O[1],j=Object(n.useState)(""),S=Object(o.a)(j,2),_=S[0],T=S[1],Y=Object(n.useState)(""),R=Object(o.a)(Y,2),L=R[0],M=R[1],A=Object(n.useState)(""),q=Object(o.a)(A,2),I=q[0],U=q[1];return r.a.createElement("div",{className:"classvolunteerslist-container table-responsive"},f&&r.a.createElement(F,{user:t,city:a,id:c,fullName:_,email:L,_id:I,closeHandler:function(){p(!1)},showAlert:function(e,t){v(!0),k(e),x(t)},WeekNumber:l}),h&&r.a.createElement(u,{type:y}," ",D," "),i&&i.length>0&&r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Role"),t===s[0].id&&r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,i.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.fullName),r.a.createElement("td",null,e.roleName),t===s[0].id&&r.a.createElement("td",null,e.email),r.a.createElement("td",null,(t===s[0].id||t===s[1].id)&&r.a.createElement("button",{className:"btn-cancel-volunteer",onClick:function(a){v(!1),function(e,a,n){[s[0].id,s[1].id].includes(t)&&p(!0),T(e),M(a),U(n)}(e.fullName,e.email,e._id)}},"Cancel")))}))))||r.a.createElement(w,null))}),q=(a(172),a(173),function(e){var t=e.user,a=e.city,n=e.component,c=e.currentClass,l=e.closeHandler,s=e.showAlert;return r.a.createElement("div",{className:"cancel-alert"},r.a.createElement("p",null,"Are you sure to cancel the corresponding Class?"),r.a.createElement("div",null,r.a.createElement("button",{className:"cancelclass-no",onClick:function(){return l(!0)}},"NO"),r.a.createElement("button",{className:"cancelclass-yes",onClick:function(){_.a.delete("/api/v1/classes/".concat(c._id)).then((function(e){!0===e.data.success&&(l(),s("success","The class has been deleted successfully."),setTimeout((function(){window.location.replace("/".concat(t,"/").concat(a,"/").concat(n,"/"))}),1e3))})).catch((function(e){l(),!1===e.response.data.success&&s("danger",e.response.data.error)}))}},"YES")))}),I=a(1),U=a.n(I),V=function(e){var t=e.user,a=e.city,c=e.component,l=e.id,i=e.Class,m=e.WeekNumber,d=Object(n.useState)(null),p=Object(o.a)(d,2),E=p[0],b=p[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),g=v[0],N=v[1],O=Object(n.useState)(!1),D=Object(o.a)(O,2),x=D[0],j=D[1],S=Object(n.useState)(""),T=Object(o.a)(S,2),Y=T[0],R=T[1],L=Object(n.useState)("message"),F=Object(o.a)(L,2),I=F[0],V=F[1],P=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/bookings/".concat(i._id)).then((function(e){b(e.data.data)}));case 2:case"end":return e.stop()}}),e)}))),[i]);return Object(n.useEffect)((function(){P()}),[P]),r.a.createElement(r.a.Fragment,null,g&&r.a.createElement(q,{user:t,city:a,component:c,currentClass:i,closeHandler:function(){N(!1)},showAlert:function(e,t){j(!0),R(e),V(t)}}),x&&r.a.createElement(u,{type:Y}," ",I," "),i?r.a.createElement("div",{className:"coursecalendar"===c?"classcard-body coursecalendar-class-size":"classcard-body"},r.a.createElement("div",{className:"classcard-main animate__animated animate__fadeIn"},r.a.createElement("div",{className:"classcard-border"},r.a.createElement("div",{className:"classcard-container"},r.a.createElement("div",{className:"classcard-date-container"},r.a.createElement("div",{className:"classcard-date"},r.a.createElement("p",null,new Date(i.date).getDate().toString()),r.a.createElement("p",null,C[new Date(i.date).getMonth().toString()]),r.a.createElement("p",null,new Date(i.date).getFullYear().toString())),!1===isNaN(m)?r.a.createElement("div",{className:i.status?"weeknumber-container-sm":"weeknumber-container-sm holiday-week"},r.a.createElement("p",null," Week ",m)):null),r.a.createElement("div",{className:"classcard-info"},r.a.createElement("div",{className:"classcard-top"},r.a.createElement("div",null,r.a.createElement("p",{className:"classcard-title"},i.className),r.a.createElement("p",null,i.scheduleType),r.a.createElement("p",null,i.status&&i.startTime+" - "+i.endTime)),i.status&&r.a.createElement("div",{className:"URLs-container"},i.agendaURL&&i.agendaURL.length>0&&r.a.createElement("div",null,r.a.createElement("a",{href:i.agendaURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"classcard-syllabus"},r.a.createElement("p",{className:"classcard-text-ctl"},"Agenda"),r.a.createElement("i",{className:"fas fa-calendar-alt"})))),r.a.createElement("div",null,r.a.createElement("a",{href:i.syllabusURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"classcard-syllabus"},r.a.createElement("p",{className:"classcard-text-ctl"},"Syllabus"),r.a.createElement("i",{className:"fas fa-book-open "})))))),r.a.createElement("div",{className:E&&0===E.length?"classcard-volunteers-count-mobile-Disable":"classcard-volunteers-count-mobile"},r.a.createElement(f.b,{onClick:function(e){E&&0===E.length&&e.preventDefault()},to:"/".concat(t,"/").concat(a,"/attendingvolunteers/").concat(i._id,"/").concat(m)},"overview"!==c&&i.status?E&&0===E.length?"no volunteer signed up":E&&E.length?"".concat(E.length," volunteer(s) signed up"):null:"")),r.a.createElement("div",{className:E&&0===E.length?"classcard-disable-bottom":"classcard-bottom"},[s[0].id,s[1].id,s[2].id].includes(t)&&r.a.createElement(f.b,{className:"classcard-edit-Link",onClick:function(e){E&&0===E.length&&e.preventDefault()},to:"/".concat(t,"/").concat(a,"/attendingvolunteers/").concat(i._id,"/").concat(m)},r.a.createElement("p",null,"overview"!==c&&i.status?E&&0===E.length?"no volunteer signed up":E&&E.length?"".concat(E.length," volunteer(s) signed up"):null:"")),"newbooking"!==c&&r.a.createElement("div",null,t===s[0].id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){N(!0)},className:"classcard-cancel-bottom"},r.a.createElement("span",{className:"classcard-text-ctl"},"Cancel"),r.a.createElement("i",{className:"fa fa-times classcard-icon-ctl"})),r.a.createElement(f.b,{className:"classcard-edit-bottom",to:"/".concat(t,"/").concat(a,"/editclass/").concat(i._id)},r.a.createElement("span",{className:"classcard-text-ctl"},"Edit"),r.a.createElement("i",{className:"fa fa-pencil classcard-icon-ctl"}))),[s[0].id,s[1].id].includes(t)&&i.status&&r.a.createElement(f.b,{onClick:function(e){U()(i.date)<=U()(new Date)&&e.preventDefault()},className:U()(i.date)<=U()(new Date)?"class-card-disable-attend-bottom":"classcard-attend-bottom",to:"/".concat(t,"/").concat(a,"/newbooking/").concat(i._id,"/").concat(m)},r.a.createElement("span",{className:"classcard-text-ctl"},"Attend"),r.a.createElement("i",{className:"fa fa-check-square-o classcard-icon-ctl"}))))),m&&r.a.createElement("div",{className:i.status?"weeknumber-container":"weeknumber-container holiday-week"},r.a.createElement("p",null,"Week"),r.a.createElement("p",null,m))),!["upcomingclass","coursecalendar","overview"].includes(c)&&r.a.createElement("hr",{className:"classcard-separator"}),"newbooking"===c&&r.a.createElement(M,{Class:i,user:t,city:a,WeekNumber:m}),"attendingvolunteers"===c&&r.a.createElement(A,{user:t,city:a,id:l,component:c,bookings:E,WeekNumber:m})))):r.a.createElement(w,null))},P=(a(174),function(e){var t=e.user,a=e.city,c=e.component,l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],p=d[1],E=Object(L.e)(),b=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=null,r=null,c=null,e.prev=4,e.next=7,_.a.get("/api/v1/courses/").then(function(){var e=Object(k.a)(y.a.mark((function e(l){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.data.data.length>0)){e.next=9;break}if(!((n=l.data.data.filter((function(e){return e.cityName===a}))).length>0)){e.next=8;break}return t=n.map((function(e){return e._id})),e.next=6,_.a.get("/api/v1/classes").then((function(e){if(e.data.data.length>0){r=e.data.data,c=e.data.data.sort((function(e,t){return U()(e.date).isAfter(U()(t.date))?1:-1})).find((function(e){return t.includes(e.courseCalendar_Id)&&e.status&&U()(e.date)>U()(new Date)}));var a=0;c&&(r.filter((function(e){return e.courseCalendar_Id===c.courseCalendar_Id})).sort((function(e,t){return U()(e.date).isAfter(U()(t.date))?1:-1})).map((function(e){return e.status?e.weekNumber=++a:e.weekNumber="-"})),i(r.find((function(e){return e._id===c._id}))),p(n.find((function(e){return e._id===c.courseCalendar_Id})).intakeName))}}));case 6:e.next=9;break;case 8:E.push("/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),[a,E]);return Object(n.useEffect)((function(){b()}),[b]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"upcoming-class-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,f),r.a.createElement("i",{className:"fas fa-chevron-right"})):null,r.a.createElement("p",null,"Upcoming Class")),u?r.a.createElement(V,{user:t,city:a,component:c,Class:u,WeekNumber:u.weekNumber}):r.a.createElement(w,null)),r.a.createElement(v,null))}),W=(a(175),function(e){var t=e.entryData,a=e.city,c=e.component,l=e.courses,s=e.alertMessage,i=e.error,m=e._onChange,d=e._onSubmit,f=e.date,p=e.courseCalendar_Id,E=e.status,b=e.className,h=e.startTime,v=e.endTime,g=e.agendaURL,N=e.syllabusURL,y=e.scheduleType,k=Object(n.useState)(null),w=Object(o.a)(k,2),C=w[0],O=w[1];return Object(n.useEffect)((function(){O("undefined"===typeof E||!!E)}),[E]),r.a.createElement("div",{className:"new-class-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a),r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"newclass"===c?"New Class":"Edit Class")),r.a.createElement("form",{className:"new-class-form",noValidate:!0,onSubmit:d},s&&""!==s?r.a.createElement(u,{type:s.type,children:s.message}):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Intake: "),r.a.createElement("select",{name:"courseCalendar_Id",className:"form-control",defaultValue:p,ref:function(e){return t.current[0]={element:e,required:!0}}},l&&l.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.intakeName)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"date"},"Date: "),r.a.createElement("input",{name:"date",type:"date",defaultValue:U()(new Date(f)).format("YYYY-MM-DD"),className:i&&i.date?"form-control error":"form-control",onChange:function(e){return m(e)},ref:function(e){return t.current[1]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.date&&r.a.createElement("p",null,"* Date is required!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Status:"),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"status",defaultChecked:C,onClick:function(){return O(!0)},ref:function(e){return t.current[2]={element:e,required:!0}}}),r.a.createElement("label",{htmlFor:"Class"},"Class"),r.a.createElement("input",{type:"radio",name:"status",defaultChecked:!C,onClick:function(){return O(!1)}}),r.a.createElement("label",{htmlFor:"Holiday"},"Holiday"))),C?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ClassName"},"Class Name:"),r.a.createElement("input",{id:"Reason",name:"className",defaultValue:b,className:i&&i.className?"form-control error":"form-control",type:"text",placeholder:"Class Name . . .",onChange:function(e){return m(e)},ref:function(e){return t.current[3]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.className&&r.a.createElement("p",null," * Class Name is required!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"startTime"},"Start Time:"),r.a.createElement("input",{name:"startTime",className:i&&i.startTime?"form-control error":"form-control",type:"time",defaultValue:h,onChange:function(e){return m(e)},ref:function(e){return t.current[4]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.startTime&&r.a.createElement("p",null,"* Start Time is required!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"endTime"},"End Time:"),r.a.createElement("input",{name:"endTime",defaultValue:v,className:i&&i.endTime?"form-control error":"form-control",type:"time",onChange:function(e){return m(e)},ref:function(e){return t.current[5]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.endTime&&r.a.createElement("p",null,"* End Time is required!")),r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("label",{htmlFor:"agendaURL"},"Agenda URL:"),r.a.createElement("input",{name:"agendaURL",type:"url",defaultValue:g,className:i&&i.agendaURL?"form-control error":"form-control",placeholder:"Agenda URL",onChange:function(e){return m(e)},ref:function(e){return t.current[6]={element:e,required:!1}}})),r.a.createElement("div",{className:"err-msg"},i&&i.agendaURL&&r.a.createElement("p",null,"* ",i.agendaURL)),r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("label",{htmlFor:"syllabusURL"},"Syllabus URL:"),r.a.createElement("input",{name:"syllabusURL",type:"url",defaultValue:N,className:i&&i.syllabusURL?"form-control error":"form-control",placeholder:"Syllabus URL",onChange:function(e){return m(e)},ref:function(e){return t.current[7]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.syllabusURL&&r.a.createElement("p",null,"* ",i.syllabusURL)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"role"},"Schedule:"),r.a.createElement("select",{name:"scheduleType",className:"form-control",placeholder:"Schedule",defaultValue:y,onChange:function(e){return m(e)},ref:function(e){return t.current[8]={element:e,required:!0}}},r.a.createElement("option",{value:"Education Lead Class"},"Education Lead Class"),r.a.createElement("option",{value:"Personal Development Team Lead Class"},"Personal Development Team Lead Class"),r.a.createElement("option",{value:"Ambassador Lead Class"},"Ambassador Lead Class")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ClassName"},"Reason:"),r.a.createElement("input",{id:"Reason",name:"className",className:i&&i.className?"form-control error":"form-control",type:"text",defaultValue:E?"":b,placeholder:"Reason . . .",onChange:function(e){return m(e)},ref:function(e){return t.current[3]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.className&&r.a.createElement("p",null,"* Reason is required!"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit"}))))}),B=a(14),H=a.n(B),J=(a(176),function(e){var t=e.user,a=e.city,c=e.component,l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],p=d[1],E=Object(L.e)();U.a.extend(H.a);var b=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/courses/").then((function(e){if(e.data.data.length>0){var t=e.data.data.filter((function(e){return e.cityName===a}));t.length>0?i(t):E.push("/")}else E.push("/")}));case 2:case"end":return e.stop()}}),e)}))),[a,E]),g=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/");case 2:if(!((t=e.sent).data.data.length>0)){e.next=7;break}return e.abrupt("return",t.data.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=j(function(){var e=Object(k.a)(y.a.mark((function e(n){var r,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Date.parse("01/01/2020 ".concat(n.startTime,":00"))>=Date.parse("01/01/2020 ".concat(n.endTime)))){e.next=5;break}S(!0),p({type:"danger",message:"End Time must be after Start Time!"}),e.next=28;break;case 5:if(!(U()(n.date)<=U()(new Date))){e.next=10;break}S(!0),p({type:"danger",message:"Date is not valid!"}),e.next=28;break;case 10:return e.next=12,g();case 12:if(r=e.sent,c=null,r.length>0&&(c=r.find((function(e){return Date.parse(e.date)===Date.parse(n.date)&&e.courseCalendar_Id===n.courseCalendar_Id}))),l=u.find((function(e){return U()(n.date).isBetween(U()(e.startDate),U()(e.endDate),"day","[]")&&e._id===n.courseCalendar_Id})),!c){e.next=21;break}S(!0),p({type:"danger",message:"This Date is Already taken by another Class!"}),e.next=28;break;case 21:if(l){e.next=26;break}S(!0),p({type:"danger",message:"This Date is out of the course period!"}),e.next=28;break;case 26:return e.next=28,_.a.post("/api/v1/classes",Object(O.a)({},n)).then((function(e){e.data.success?(p({type:"success",message:"New Class added successfully !"}),setTimeout((function(){E.push("/".concat(t,"/").concat(a,"/coursecalendar/"))}),1e3)):(S(!0),p({type:"danger",message:"New Course Calendar is not added !"}))})).catch((function(e){e.response.data.success||p({type:"danger",message:e.response.data.message})}));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=N.entryData,C=N.error,D=N.onChange,x=N.onSubmit,S=N.setSubmit_F;return Object(n.useEffect)((function(){b()}),[b]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"newclass-container"},u&&r.a.createElement(W,{city:a,component:c,courses:u,entryData:w,alertMessage:f,error:C,_onChange:D,_onSubmit:x})),r.a.createElement(v,null))}),z=(a(177),function(e){var t=e.user,a=e.city,c=e.component,l=e.id,s=Object(n.useState)(null),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(null),f=Object(o.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(null),g=Object(o.a)(b,2),N=g[0],C=g[1],D=Object(L.e)();U.a.extend(H.a);var x=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/").then((function(e){if(e.data.data.length>0){var t=e.data.data.find((function(e){return e._id===l}));t?C(t):D.push("/")}else D.push("/")}));case 2:case"end":return e.stop()}}),e)}))),[l,D]),S=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/courses/").then((function(e){if(e.data.data.length>0){var t=e.data.data.filter((function(e){return e.cityName===a}));t?m(t):D.push("/")}else D.push("/")}));case 2:case"end":return e.stop()}}),e)}))),[a,D]),T=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/");case 2:if(!((t=e.sent).data.data.length>0)){e.next=7;break}return e.abrupt("return",t.data.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=j(function(){var e=Object(k.a)(y.a.mark((function e(n){var r,c,s,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,n.status===N.status&&(n.status?n.courseCalendar_Id===N.courseCalendar_Id&&U()(N.date).format("MM-DD-YYYY")===U()(n.date).format("MM-DD-YYYY")&&n.className===N.className&&n.startTime===N.startTime&&n.endTime===N.endTime&&n.agendaURL===N.agendaURL&&n.syllabusURL===N.syllabusURL&&n.scheduleType===N.scheduleType&&(r=!0):n.courseCalendar_Id===N.courseCalendar_Id&&U()(N.date).format("MM-DD-YYYY")===U()(n.date).format("MM-DD-YYYY")&&n.className===N.className&&(r=!0)),!r){e.next=7;break}q(!0),E({type:"danger",message:"There is no change to update !"}),e.next=35;break;case 7:if(!(Date.parse("01/01/2020 ".concat(n.startTime,":00"))>=Date.parse("01/01/2020 ".concat(n.endTime)))){e.next=12;break}q(!0),E({type:"danger",message:"End Time must be after Start Time!"}),e.next=35;break;case 12:if(!(U()(n.date)<=U()(new Date)&&U()(N.date).format("MM-DD-YYYY")!==U()(n.date).format("MM-DD-YYYY"))){e.next=17;break}q(!0),E({type:"danger",message:"Date is not valid!"}),e.next=35;break;case 17:return e.next=19,T();case 19:if(!((c=e.sent).length>0)){e.next=35;break}if(s=c.find((function(e){return Date.parse(e.date)===Date.parse(n.date)&&e.courseCalendar_Id===n.courseCalendar_Id&&e._id!==N._id})),o=i.find((function(e){return U()(n.date).isBetween(U()(e.startDate),U()(e.endDate),"day","[]")&&e._id===n.courseCalendar_Id})),!s){e.next=28;break}q(!0),E({type:"danger",message:"This Date is Already taken by another Class!"}),e.next=35;break;case 28:if(o){e.next=33;break}q(!0),E({type:"danger",message:"This Date is out of the course period!"}),e.next=35;break;case 33:return e.next=35,_.a.put("/api/v1/classes/".concat(l),Object(O.a)({},n)).then((function(e){e.data.success?(E({type:"success",message:"Class updated successfully !"}),setTimeout((function(){D.push("/".concat(t,"/").concat(a,"/coursecalendar/"))}),1e3)):(q(!0),E({type:"danger",message:"Class is not updated !"}))}));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Y.entryData,M=Y.error,F=Y.onChange,A=Y.onSubmit,q=Y.setSubmit_F;return Object(n.useEffect)((function(){N&&S()}),[S,N]),Object(n.useEffect)((function(){x()}),[x]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"editclass-container"},i&&N?r.a.createElement(W,{city:a,component:c,courses:i,entryData:R,alertMessage:p,error:M,_onChange:F,_onSubmit:A,date:N.date,courseCalendar_Id:N.courseCalendar_Id,status:N.status,className:N.className,startTime:N.startTime,endTime:N.endTime,agendaURL:N.agendaURL,syllabusURL:N.syllabusURL,scheduleType:N.scheduleType}):r.a.createElement(w,null)),r.a.createElement(v,null))}),Z=function(e){var t=e.user,a=e.city,c=e.component,l=e.id,s=e.WeekNumber,u=Object(n.useState)(null),i=Object(o.a)(u,2),m=i[0],d=i[1],f=Object(L.e)(),p=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/").then((function(e){if(e.data.data.length>0){var t=e.data.data.find((function(e){return e._id===l}));t?d(t):f.push("/")}else f.push("/")}));case 2:case"end":return e.stop()}}),e)}))),[l,f]);return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"upcoming-class-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"New Booking")),m?r.a.createElement(V,{user:t,city:a,component:c,Class:m,WeekNumber:s}):r.a.createElement(w,null)),r.a.createElement(v,null))},G=(a(178),function(e){var t=e.user,a=e.city,c=e.component,l=Object(n.useState)(!1),s=Object(o.a)(l,2),u=s[0],i=s[1],m=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)([]),l=Object(L.e)();U.a.extend(H.a);var s=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(c.current[1].value);case 3:(t=e.sent).length>0&&(t=t.filter((function(e){return(U()(e.date).format("M")===c.current[2].value||"All-Months"===c.current[2].value)&&(e.className.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0||e.scheduleType.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0)}))),r({courseId:c.current[1].value,courses:a.courses,classes:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/classes/");case 3:return a=e.sent,n=0,a.data.data.length>0?(a=a.data.data.filter((function(e){return e.courseCalendar_Id===t}))).sort((function(e,t){return U()(e.date).isAfter(U()(t.date))?1:-1})).map((function(e){return e.status?e.weekNumber=++n:e.weekNumber="-"})):a=[],e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return{entryData:c,getData:function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses/");case 3:if(!((a=e.sent).data.data.length>0)){e.next=19;break}if(!((a=a.data.data.filter((function(e){return e.cityName===t}))).length>0)){e.next=16;break}return(n=a.find((function(e){return U()(new Date).isBetween(U()(e.startDate),U()(e.endDate),"day")})))||(n=a[a.length-1]),e.next=11,u(n._id);case 11:(c=e.sent).length>0&&(c=c.filter((function(e){return U()(e.date).format("M")===U()(new Date).format("M")}))),r({courseId:n._id,courses:a,classes:c}),e.next=17;break;case 16:l.push("/nothing");case 17:e.next=20;break;case 19:l.push("/nothing");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),filter:s,data:a}}(),d=m.entryData,f=m.getData,p=m.filter,E=m.data;return Object(n.useEffect)((function(){null===E&&f(a)}),[a,f,E]),r.a.createElement("div",{className:"coursecalendarform-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"Course Calendar")),r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"control-container"},r.a.createElement("label",null,"Search:"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search . . .",onChange:function(){return p()},ref:function(e){return d.current[0]=e}})),r.a.createElement("div",{className:"control-container"},r.a.createElement("label",null,"Intake: "),r.a.createElement("select",{onChange:function(){return p()},ref:function(e){return d.current[1]=e}},E&&E.courses.map((function(e,t){return e._id===E.courseId?r.a.createElement("option",{selected:!0,value:e._id,key:t},e.intakeName):r.a.createElement("option",{value:e._id,key:t},e.intakeName)})))),r.a.createElement("div",{className:"control-container"},r.a.createElement("label",null,"Month: "),r.a.createElement("select",{defaultValue:U()(new Date).format("M"),onChange:function(){return p()},ref:function(e){return d.current[2]=e}},r.a.createElement("option",{value:"All-Months"},"All Months"),C.map((function(e,t){return r.a.createElement("option",{value:t+1,key:t},e)})))),r.a.createElement("div",{className:"control-container"},r.a.createElement("input",{type:"checkbox",onChange:function(){return i(!u)}}),r.a.createElement("label",null,"Show Holiday "))),r.a.createElement("div",{className:"classes-list-container "},E&&E.classes.length>0&&E.classes.map((function(e,n){return u||e.status?r.a.createElement(V,{user:t,city:a,Class:e,component:c,key:n,WeekNumber:e.weekNumber}):null}))||r.a.createElement(w,null)))}),K=(a(179),function(e){var t=e.user,a=e.city,n=e.component;return r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:n}),r.a.createElement("div",{className:"coursecalendar-container"},r.a.createElement(G,{user:t,city:a,component:n})),r.a.createElement(v,null))}),$=function(e){var t=e.user,a=e.city,c=e.component,l=e.id,s=e.WeekNumber,u=Object(n.useState)(null),i=Object(o.a)(u,2),m=i[0],d=i[1],f=Object(L.e)(),p=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/").then((function(e){if(e.data.data.length>0){var t=e.data.data.find((function(e){return e._id===l}));t?d(t):f.push("/")}else f.push("/")}));case 2:case"end":return e.stop()}}),e)}))),[l,f]);return Object(n.useEffect)((function(){p()}),[p]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"upcoming-class-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"Attending Volunteers")),m?r.a.createElement(V,{user:t,id:l,city:a,component:c,Class:m,WeekNumber:s}):r.a.createElement(w,null)),r.a.createElement(v,null))},X=(a(180),function(e){var t=e.city,a=e.component,c=e.citiesName,l=e.alertMessage,s=e.entryData,i=e.error,m=e._onChange,d=e._onSubmit,f=e.intakeName,p=(e.cityName,e.startDate),E=e.endDate,b=Object(n.useState)(!1),h=Object(o.a)(b,2),v=h[0],g=h[1];return r.a.createElement("div",{className:"new-course-calendar-container"},t?r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,t)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"newcourse"===a?"New Course":"Edit Course")):r.a.createElement("p",{className:"page-title"},"New Course"),r.a.createElement("form",{className:"new-course-calendar-form",noValidate:!0,onSubmit:d},l&&""!==l?r.a.createElement(u,{type:l.type,children:l.message}):null,r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("label",null,"Intake: "),r.a.createElement("input",{name:"intakeName",type:"text",defaultValue:f,onChange:function(e){return m(e)},placeholder:"Intake Name . . .",className:i&&i.intakeName?"form-control error":"form-control",ref:function(e){return s.current[0]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.intakeName&&r.a.createElement("p",null," *\xa0Intake Name is required!")),!v&&c&&"Nothing"!==c&&r.a.createElement("div",{className:"form-group test"},r.a.createElement("label",null,"City Name:"),r.a.createElement("select",{name:"cityName",className:"form-control",ref:function(e){return s.current[1]={element:e,required:!0}}},c.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("i",{className:"fas fa-plus plus-style",onClick:function(){return g(!v)}})),(v||t||"Nothing"===c)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t?"form-group":"form-group test"},r.a.createElement("label",null,t?"City Name: ":"New City Name: "," "),r.a.createElement("input",{type:"text",name:"cityName",value:t,onChange:function(e){return m(e)},className:i&&i.cityName?"form-control error":"form-control",placeholder:"New City Name . . .",ref:function(e){return s.current[1]={element:e,required:!0}}}),t?null:r.a.createElement("i",{className:"fas fa-minus minus-style",onClick:function(){return g(!v)}})),r.a.createElement("div",{className:"err-msg"},i&&i.cityName&&r.a.createElement("p",null," *\xa0 City Name is required!"))),r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("label",null,"Start Date: "),r.a.createElement("input",{type:"date",name:"startDate",defaultValue:U()(new Date(p)).format("YYYY-MM-DD"),onChange:function(e){return m(e)},className:i&&i.startDate?"form-control error":"form-control",ref:function(e){return s.current[2]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.startDate&&r.a.createElement("p",null," *\xa0Start Date is required!")),r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("label",null,"End Date: "),r.a.createElement("input",{type:"date",name:"endDate",defaultValue:U()(new Date(E)).format("YYYY-MM-DD"),onChange:function(e){return m(e)},className:i&&i.endDate?"form-control error":"form-control",ref:function(e){return s.current[3]={element:e,required:!0}}})),r.a.createElement("div",{className:"err-msg"},i&&i.endDate&&r.a.createElement("p",null," *\xa0End Date is required!")),r.a.createElement("div",{className:"form-group font-size"},r.a.createElement("input",{type:"submit",className:"form-control"}))))}),Q=(a(181),function(e){var t=e.user,a=e.city,c=e.component,l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],p=d[1],E=Object(L.e)();U.a.extend(H.a);var b=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses/");case 3:if(!((t=e.sent).data.data&&t.data.data.length>0)){e.next=8;break}return e.abrupt("return",t.data.data);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:(t=e.sent)&&t.length>0?(a=(a=t.map((function(e){return e.cityName}))).filter((function(e,t){return a.indexOf(e)===t})),i(a)):i("Nothing"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),N=j(function(){var e=Object(k.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U()(n.startDate).isAfter(U()(n.endDate))){e.next=5;break}T(!0),p({type:"danger",message:"End Date must be after Start Date!"}),e.next=28;break;case 5:if(!(U()(n.endDate)<=U()(new Date))){e.next=10;break}T(!0),p({type:"danger",message:"End Date must be in future!"}),e.next=28;break;case 10:return e.next=12,b();case 12:if((r=e.sent)&&(r=r.find((function(e){return(U()(n.startDate).isBetween(U()(e.startDate),U()(e.endDate),"day")||U()(n.endDate).isBetween(U()(e.startDate),U()(e.endDate),"day")||U()(e.startDate).isBetween(U()(n.startDate),U()(n.endDate),"day")||U()(e.endDate).isBetween(U()(n.startDate),U()(n.endDate),"day")||e.intakeName===n.intakeName)&&e.cityName===n.cityName}))),!r){e.next=19;break}T(!0),p({type:"danger",message:"Your Data has conflict with other courses!"}),e.next=28;break;case 19:return e.prev=19,e.next=22,_.a.post("/api/v1/courses",Object(O.a)({},n)).then((function(e){e.data.success?(p({type:"success",message:"New Course added successfully !"}),setTimeout((function(){a?E.push("/".concat(t,"/").concat(a,"/courses/")):E.push("/".concat(t,"/cities/"))}),1e3)):(T(!0),p({type:"danger",message:"New Course not added !"}))})).catch((function(e){e.response.data.success||p({type:"danger",message:e.response.data.message})}));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),T(!0),p({type:"danger",message:"New Course not added !"});case 28:case"end":return e.stop()}}),e,null,[[19,24]])})));return function(t){return e.apply(this,arguments)}}()),C=N.entryData,D=N.error,x=N.onChange,S=N.onSubmit,T=N.setSubmit_F;return Object(n.useEffect)((function(){a||g()}),[g,a]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"newcourse-container"},a||u?r.a.createElement(X,{city:a,component:c,citiesName:u,alertMessage:f,entryData:C,error:D,_onChange:x,_onSubmit:S}):r.a.createElement(w,null)),r.a.createElement(v,null))}),ee=(a(182),function(e){var t=e.user,a=e.city,n=e.currentCourse,c=e.closeHandler,l=e.showAlert;return r.a.createElement("div",{className:"cancel-alert"},r.a.createElement("p",null,"Are you sure to cancel the corresponding Course?"),r.a.createElement("div",null,r.a.createElement("button",{className:"cancel-no",onClick:function(){return c(!0)}},"NO"),r.a.createElement("button",{className:"cancel-yes",onClick:function(){_.a.delete("/api/v1/courses/".concat(n._id)).then((function(e){!0===e.data.success&&(c(),l("success","The class has been deleted successfully."),setTimeout((function(){window.location.replace("/".concat(t,"/").concat(a,"/courses/"))}),1e3))})).catch((function(e){c(),!1===e.response.data.success&&l("danger",e.response.data.error)}))}},"YES")))}),te=(a(183),function(e){var t=e.user,a=e.city,c=e.component,l=Object(n.useState)(null),s=Object(o.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),E=p[0],b=p[1],g=Object(n.useState)(!1),N=Object(o.a)(g,2),C=N[0],O=N[1],D=Object(n.useState)(!1),x=Object(o.a)(D,2),j=x[0],S=x[1],T=Object(n.useState)(""),Y=Object(o.a)(T,2),R=Y[0],M=Y[1],F=Object(n.useState)("message"),A=Object(o.a)(F,2),q=A[0],I=A[1],V=Object(L.e)(),P=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses");case 3:(t=e.sent).data.data.length>0&&(t=t.data.data.filter((function(e){return e.cityName===a}))).length>0?m(t):V.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a,V]);return Object(n.useEffect)((function(){P()}),[P]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"courses-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,a)," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"Courses")),C&&r.a.createElement(ee,{user:t,city:a,component:c,currentCourse:E,closeHandler:function(){O(!1)},showAlert:function(e,t){S(!0),M(e),I(t)}}),j&&r.a.createElement(u,{type:R}," ",q," "),r.a.createElement("div",{className:"table-responsive animate__animated animate__fadeIn"},r.a.createElement("table",{className:"table",cellSpacing:"0",cellPadding:"0"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header-tr"},r.a.createElement("th",{scope:"col"},"Course"),r.a.createElement("th",{scope:"col",className:"hide-city-col"},"City"),r.a.createElement("th",{scope:"col"},"Start Date"),r.a.createElement("th",{scope:"col"},"End Date"),r.a.createElement("th",{scope:"col"},"Edit"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",{className:"table-body"},i&&i.length>0?i.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,e.intakeName),r.a.createElement("td",{className:"hide-city-col"},e.cityName),r.a.createElement("td",null,U()(e.startDate).format("DD - MM - YYYY")),r.a.createElement("td",null,U()(e.endDate).format("DD - MM - YYYY")),r.a.createElement("td",null,r.a.createElement(f.b,{to:"/".concat(t,"/").concat(a,"/editcourse/").concat(e._id)},r.a.createElement("button",{className:"btn-edit-course"},r.a.createElement("i",{className:"fas fa-pencil-alt"})))),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){b(e),O(!0)},className:"btn-delete-course"},r.a.createElement("i",{className:"far fa-trash-alt"}))))})):r.a.createElement(w,null))))),r.a.createElement(v,null))}),ae=(a(184),function(e){var t=e.user,a=e.component,c=Object(n.useState)({citiesName:[],searchResult:[]}),l=Object(o.a)(c,2),s=l[0],u=l[1],i=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses").then((function(e){var t=e.data.data.map((function(e){return e.cityName}));(t=t.filter((function(e,a){return t.indexOf(e)===a}))).length>0&&u({citiesName:t,searchResult:t})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),u({citiesName:[],searchResult:[]});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[]);return Object(n.useEffect)((function(){i()}),[i]),r.a.createElement("div",null,r.a.createElement(h,{user:t,component:a}),r.a.createElement("div",{className:"upcoming-class-container"},r.a.createElement("div",{className:"city-searchbar"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"search . . .",onChange:function(e){return function(e){try{u({citiesName:s.citiesName,searchResult:s.citiesName.filter((function(t){return t.toLowerCase().indexOf(e.target.value.toLowerCase())>=0}))})}catch(t){u({citiesName:[],searchResult:[]})}}(e)}}),r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("div",{className:"course-card-container"},s.searchResult&&s.searchResult.length>0?s.searchResult.map((function(e,a){return r.a.createElement(f.b,{className:"course-card animate__animated animate__fadeIn",key:a,to:"/".concat(t,"/").concat(e,"/coursecalendar")},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-map-marked-alt"})),r.a.createElement("div",null,r.a.createElement("p",null,e)))})):r.a.createElement(w,null))),r.a.createElement(v,null))}),ne=(a(185),function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("p",null,"OOPS"),r.a.createElement("p",null,"ERROR 404"),r.a.createElement("p",null,"PAGE NOT FOUND"))}),re=(a(186),function(e){var t=e.user,a=e.city,c=e.component,l=e.id,s=Object(n.useState)(null),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(null),f=Object(o.a)(d,2),p=f[0],E=f[1],b=Object(L.e)();U.a.extend(H.a);var g=Object(n.useCallback)(Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses/");case 3:if(!((t=e.sent).data.data.length>0)){e.next=10;break}return(a=t.data.data.find((function(e){return e._id===l})))?E(a):b.push("/"),e.abrupt("return",t.data.data);case 10:b.push("/");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[l,b]),N=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/v1/classes/");case 2:if(!((t=e.sent).data.data.length>0)){e.next=8;break}return t=t.data.data.filter((function(e){return e.courseCalendar_Id===l})),e.abrupt("return",t);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=j(function(){var e=Object(k.a)(y.a.mark((function e(n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.intakeName!==p.intakeName||U()(p.startDate).format("MM-DD-YYYY")!==U()(n.startDate).format("MM-DD-YYYY")||U()(p.endDate).format("MM-DD-YYYY")!==U()(n.endDate).format("MM-DD-YYYY")){e.next=5;break}T(!0),m({type:"danger",message:"There is no change to update !"}),e.next=41;break;case 5:if(!U()(n.startDate).isAfter(U()(n.endDate))){e.next=10;break}T(!0),m({type:"danger",message:"End Date must be after Start Date!"}),e.next=41;break;case 10:if(!(U()(n.endDate)<=U()(new Date))){e.next=15;break}T(!0),m({type:"danger",message:"End Date must be in future!"}),e.next=41;break;case 15:return e.next=17,g();case 17:return r=e.sent,e.next=20,N();case 20:if(c=e.sent,r.length>0&&(r=r.find((function(e){return(U()(n.startDate).isBetween(U()(e.startDate),U()(e.endDate),"day")||U()(n.endDate).isBetween(U()(e.startDate),U()(e.endDate),"day")||U()(e.startDate).isBetween(U()(n.startDate),U()(n.endDate),"day")||U()(e.endDate).isBetween(U()(n.startDate),U()(n.endDate),"day")||e.intakeName===n.intakeName)&&e.cityName===n.cityName&&e._id!==l}))),c.length>0&&(c=c.filter((function(e){return!U()(e.date).isBetween(U()(n.startDate),U()(n.endDate),"day")}))),!r){e.next=28;break}T(!0),m({type:"danger",message:"Your Date has conflict with other courses!"}),e.next=41;break;case 28:if(!(c.length>0)){e.next=33;break}T(!0),m({type:"danger",message:"This course has some classes which is out of this date range !"}),e.next=41;break;case 33:return e.prev=33,e.next=36,_.a.put("/api/v1/courses/".concat(l),Object(O.a)({},n)).then((function(e){e.data.success?(m({type:"success",message:"Course updated successfully !"}),setTimeout((function(){b.push("/".concat(t,"/").concat(a,"/courses/"))}),1e3)):(T(!0),m({type:"danger",message:"Course not updated !"}))}));case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(33),console.log(e.t0);case 41:case"end":return e.stop()}}),e,null,[[33,38]])})));return function(t){return e.apply(this,arguments)}}()),C=w.entryData,D=w.error,x=w.onChange,S=w.onSubmit,T=w.setSubmit_F;return Object(n.useEffect)((function(){g()}),[g]),r.a.createElement("div",null,r.a.createElement(h,{user:t,city:a,component:c}),r.a.createElement("div",{className:"NewCourseCalendar"},p&&r.a.createElement(X,{city:a,component:c,alertMessage:i,entryData:C,error:D,_onChange:x,_onSubmit:S,intakeName:p.intakeName,cityName:p.cityName,startDate:p.startDate,endDate:p.endDate})),r.a.createElement(v,null))}),ce=(a(187),function(e){var t=e.user,a=e.component,c=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)([]),l=Object(L.e)();U.a.extend(H.a);var s=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.classes.length>0&&(t=a.classes.filter((function(e){return e.className.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0||e.scheduleType.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0})),r({cities:a.cities,filteredClasses:t,classes:a.classes}))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses/");case 3:if(!((t=e.sent).data.data.length>0)){e.next=14;break}if(!((t=t.data.data.filter((function(e){return e.cityName===c.current[1].value}))).length>0)){e.next=14;break}return(n=t.find((function(e){return U()(new Date).isBetween(U()(e.startDate),U()(e.endDate),"day")})))||(n=t[t.length-1]),e.next=11,i(n._id);case 11:(l=e.sent).length>0&&(l=l.filter((function(e){return U()(e.date)>U()(new Date)}))),r({cities:a.cities,filteredClasses:l.length>0?l.filter((function(e){return e.className.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0||e.scheduleType.toLowerCase().indexOf(c.current[0].value.toLowerCase())>=0})):[],classes:l});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/classes/");case 3:return a=e.sent,n=0,a.data.data.length>0?(a=a.data.data.filter((function(e){return e.courseCalendar_Id===t}))).sort((function(e,t){return U()(e.date).isAfter(U()(t.date))?1:-1})).map((function(e){return e.status?e.weekNumber=++n:e.weekNumber="-"})):a=[],e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return{entryData:c,getData:function(){var e=Object(k.a)(y.a.mark((function e(t){var a,n,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/v1/courses/");case 3:if(!((a=e.sent).data.data.length>0)){e.next=21;break}if(n=(n=a.data.data.map((function(e){return e.cityName}))).filter((function(e,t){return n.indexOf(e)===t})),!((a=a.data.data.filter((function(e){return e.cityName===n[0]}))).length>0)){e.next=18;break}return(c=a.find((function(e){return U()(new Date).isBetween(U()(e.startDate),U()(e.endDate),"day")})))||(c=a[a.length-1]),e.next=13,i(c._id);case 13:(s=e.sent).length>0&&(s=s.filter((function(e){return U()(e.date)>U()(new Date)}))),r({cities:n,filteredClasses:s,classes:s}),e.next=19;break;case 18:l.push("/nothing");case 19:e.next=22;break;case 21:l.push("/nothing");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),filter:u,search:s,data:a}}(),l=c.entryData,s=c.getData,u=c.filter,i=c.search,m=c.data;return Object(n.useEffect)((function(){null===m&&s()}),[s,m]),r.a.createElement("div",{className:"coursecalendarform-container"},r.a.createElement("div",{className:"page-title"},r.a.createElement("p",null,"Class Planner")," ",r.a.createElement("i",{className:"fas fa-chevron-right"}),r.a.createElement("p",null,"Overview")),r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"control-container"},r.a.createElement("label",null,"City: "),r.a.createElement("select",{onChange:function(){return u()},ref:function(e){return l.current[1]=e}},m&&m.cities.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"control-container"},r.a.createElement("label",null,"Search:"),r.a.createElement("input",{type:"text",placeholder:"Search . . .",onChange:function(){return i()},ref:function(e){return l.current[0]=e}}))),r.a.createElement("div",{className:"classes-list-container "},m&&m.filteredClasses.length>0&&m.filteredClasses.map((function(e,n){return e.status?r.a.createElement(V,{user:t,city:l.current[1].value,Class:e,component:a,key:n,WeekNumber:e.weekNumber}):null}))||r.a.createElement(w,null)))}),le=(a(188),function(){return r.a.createElement("div",{className:"coursecalendar-container"},r.a.createElement(ce,{user:"4ujktF3cwUWMFITqex-IiA",component:"overview"}))}),se=function(){return r.a.createElement(f.a,null,r.a.createElement(L.a,{exact:!0,path:"/",component:g}),r.a.createElement(L.a,{exact:!0,path:"/:overview",component:function(e){return"overview"===e.match.params.overview?r.a.createElement(le,null):r.a.createElement(ne,null)}}),r.a.createElement(L.a,{exact:!0,path:"/:user/:component/",component:function(e){var t=e.match.params,a=t.user,n=t.component;if(!a||!n)return r.a.createElement(ne,null);if(!s.map((function(e){return e.id})).includes(a))return r.a.createElement(ne,null);switch(n){case"cities":return r.a.createElement(ae,{user:a,component:n});case"newcourse":return r.a.createElement(Q,{user:a,component:n});default:return r.a.createElement(ne,null)}}}),r.a.createElement(L.a,{exact:!0,path:"/:user/:city/:component/:id?/:weeknumber?",component:function(e){var t=e.match.params,a=t.user,n=t.city,c=t.component,l=t.id,o=t.weeknumber;if(!a||!n||!c)return r.a.createElement(ne,null);if(!s.map((function(e){return e.id})).includes(a))return r.a.createElement(ne,null);if(["editclass","editcourse","attendingvolunteers","newbooking"].includes(c)&&!l)return r.a.createElement(ne,null);if(["attendingvolunteers","newbooking"].includes(c)&&(!l||!o))return r.a.createElement(ne,null);if(["editclass","editcourse"].includes(c))switch(c){case"editclass":return r.a.createElement(z,{user:a,city:n,component:c,id:l});case"editcourse":return r.a.createElement(re,{user:a,city:n,component:c,id:l});default:return r.a.createElement(ne,null)}if(["attendingvolunteers","newbooking"].includes(c))switch(c){case"attendingvolunteers":return r.a.createElement($,{user:a,city:n,component:c,id:l,WeekNumber:o});case"newbooking":return r.a.createElement(Z,{user:a,city:n,component:c,id:l,WeekNumber:o});default:return r.a.createElement(ne,null)}switch(c){case"coursecalendar":return r.a.createElement(K,{user:a,city:n,component:c});case"upcomingclass":return r.a.createElement(P,{user:a,city:n,component:c});case"newclass":return r.a.createElement(J,{user:a,city:n,component:c});case"courses":return r.a.createElement(te,{user:a,city:n,component:c});case"newcourse":return r.a.createElement(Q,{user:a,city:n,component:c});default:return r.a.createElement(ne,null)}}}))},oe=function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/cyf_brand.e88841fe.png"},57:function(e,t,a){e.exports=a(189)},62:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},9:function(e){e.exports=JSON.parse('[{"id":"pnx7l6rA0ECUM6w12yPZXg","user":"admin"},{"id":"TmmK6BZkSkuXCprGcmOa8Q","user":"volunteer"},{"id":"4ujktF3cwUWMFITqex-IiA","user":"student"}]')}},[[57,1,2]]]);
//# sourceMappingURL=main.5494b65c.chunk.js.map